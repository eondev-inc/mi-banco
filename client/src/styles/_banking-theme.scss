// ============================================================================
// MI-BANCO - TEMA MATERIAL 3 (Boldo-inspired)
// Navy + Green CTA + Cyan accents con pill-shaped components
// ============================================================================

@use '@angular/material' as mat;
@use './variables' as vars;

// ----------------------------------------------------------------------------
// MATERIAL 3 THEME - Boldo-adapted palette
// ----------------------------------------------------------------------------

$mi-banco-theme: mat.define-theme((
  color: (
    theme-type: light,
    primary: mat.$cyan-palette,
    tertiary: mat.$green-palette,
  ),
  typography: (
    brand-family: 'Manrope',
    plain-family: 'Manrope',
  ),
  density: (
    scale: 0,
  )
));

html {
  @include mat.all-component-themes($mi-banco-theme);
}

// ----------------------------------------------------------------------------
// CSS CUSTOM PROPERTIES (Boldo Design Tokens)
// ----------------------------------------------------------------------------
:root {
  --mb-primary: #{vars.$primary-500};
  --mb-primary-light: #{vars.$primary-100};
  --mb-primary-dark: #{vars.$primary-700};
  --mb-on-primary: #ffffff;

  --mb-accent: #{vars.$accent-500};
  --mb-accent-light: #{vars.$accent-100};
  --mb-accent-dark: #{vars.$accent-700};

  --mb-secondary: #{vars.$secondary-500};
  --mb-secondary-light: #{vars.$secondary-100};

  --mb-success: #{vars.$success-500};
  --mb-error: #{vars.$error-500};
  --mb-warning: #{vars.$warning-500};
  --mb-info: #{vars.$info-500};

  --mb-surface: #ffffff;
  --mb-surface-variant: #{vars.$gray-100};
  --mb-background: #{vars.$background-page};
  --mb-background-dark: #{vars.$primary-500};
  --mb-divider: #{vars.$divider-color};

  --mb-text-primary: #{vars.$text-primary};
  --mb-text-secondary: #{vars.$text-secondary};
  --mb-text-on-dark: #{vars.$text-on-dark};
  --mb-text-on-dark-muted: #{vars.$text-on-dark-muted};

  --mb-shadow-sm: #{vars.$shadow-1};
  --mb-shadow-md: #{vars.$shadow-2};
  --mb-shadow-lg: #{vars.$shadow-3};
  --mb-shadow-btn: #{vars.$shadow-4};

  --mb-shape-sm: #{vars.$border-radius-sm};
  --mb-shape-md: #{vars.$border-radius-md};
  --mb-shape-lg: #{vars.$border-radius-lg};
  --mb-shape-xl: #{vars.$border-radius-xl};
  --mb-shape-pill: #{vars.$border-radius-pill};

  --mb-motion-standard: #{vars.$transition-base};
  --mb-motion-fast: #{vars.$transition-fast};
}

// ----------------------------------------------------------------------------
// BOLDO COMPONENT OVERRIDES
// ----------------------------------------------------------------------------

/* Toolbar: dark navy background */
.mat-toolbar.mat-primary {
  background: vars.$primary-500;
  color: white;
  box-shadow: vars.$shadow-2;
}

/* Cards: Boldo subtle shadow, soft radius */
.mat-mdc-card {
  border-radius: var(--mb-shape-md) !important;
  box-shadow: var(--mb-shadow-md);
  transition: transform vars.$transition-base, box-shadow vars.$transition-base;
}
.mat-mdc-card:hover {
  box-shadow: var(--mb-shadow-lg);
}

/* Form fields */
.mat-mdc-form-field {
  font-family: vars.$font-family-base;
}

/* Buttons: pill-shaped (Boldo signature) */
.mat-mdc-button,
.mat-mdc-raised-button,
.mat-mdc-unelevated-button,
.mat-mdc-outlined-button,
.mat-mdc-flat-button {
  border-radius: var(--mb-shape-pill) !important;
  font-weight: vars.$font-weight-bold;
  letter-spacing: 0.3px;
  transition: all vars.$transition-fast;
  border-width: vars.$border-width-thick;
}

.mat-mdc-fab,
.mat-mdc-mini-fab {
  border-radius: var(--mb-shape-xl) !important;
}

/* Snackbars */
.mat-mdc-snack-bar-container {
  border-radius: var(--mb-shape-md) !important;
}
.mat-mdc-snack-bar-container.success-snackbar {
  --mat-snackbar-container-color: #{vars.$accent-500};
  --mat-snack-bar-button-color: #{vars.$primary-500};
  --mat-snackbar-supporting-text-color: #{vars.$primary-500};
}
.mat-mdc-snack-bar-container.error-snackbar {
  --mat-snackbar-container-color: #{vars.$error-500};
  --mat-snack-bar-button-color: #{vars.$error-100};
  --mat-snackbar-supporting-text-color: white;
}
.mat-mdc-snack-bar-container.warning-snackbar {
  --mat-snackbar-container-color: #{vars.$warning-700};
  --mat-snack-bar-button-color: #{vars.$warning-100};
  --mat-snackbar-supporting-text-color: white;
}
.mat-mdc-snack-bar-container.info-snackbar {
  --mat-snackbar-container-color: #{vars.$secondary-500};
  --mat-snack-bar-button-color: #{vars.$primary-500};
  --mat-snackbar-supporting-text-color: #{vars.$primary-500};
}

/* Tables */
.mat-mdc-table {
  background-color: white;
}
.mat-mdc-table .mat-mdc-header-row {
  background-color: vars.$gray-100;
}
.mat-mdc-table .mat-mdc-row {
  transition: background-color vars.$transition-fast;
}
.mat-mdc-table .mat-mdc-row:hover {
  background-color: vars.$background-hover;
}
.mat-mdc-table .mat-mdc-header-cell {
  color: vars.$text-primary;
  font-weight: vars.$font-weight-semi-bold;
  font-size: vars.$font-size-small;
}
.mat-mdc-table .mat-mdc-cell {
  color: vars.$text-secondary;
}

.mat-mdc-paginator {
  background-color: white;
  border-top: 1px solid vars.$divider-color;
}

.mat-mdc-tab-group .mat-mdc-tab {
  font-weight: vars.$font-weight-semi-bold;
  min-width: 120px;
}

/* Dialog */
.mat-mdc-dialog-container {
  border-radius: var(--mb-shape-lg) !important;
}

/* Menu */
.mat-mdc-menu-panel {
  border-radius: var(--mb-shape-md) !important;
}

/* Chips: pill-shaped */
.mat-mdc-chip {
  border-radius: var(--mb-shape-pill) !important;
}
.mat-mdc-chip.chip-success {
  --mat-chip-elevated-container-color: #{vars.$success-100};
  --mat-chip-label-text-color: #{vars.$success-700};
}
.mat-mdc-chip.chip-error {
  --mat-chip-elevated-container-color: #{vars.$error-100};
  --mat-chip-label-text-color: #{vars.$error-700};
}
.mat-mdc-chip.chip-warning {
  --mat-chip-elevated-container-color: #{vars.$warning-100};
  --mat-chip-label-text-color: #{vars.$warning-700};
}
.mat-mdc-chip.chip-info {
  --mat-chip-elevated-container-color: #{vars.$info-100};
  --mat-chip-label-text-color: #{vars.$info-700};
}

/* Progress spinner */
.mat-mdc-progress-spinner {
  --mat-progress-spinner-active-indicator-color: #{vars.$secondary-500};
}

/* Sidenav */
.mat-sidenav {
  border-radius: 0;
}

/* Focus visible (WCAG 2.0 AA) */
*:focus-visible {
  outline: vars.$focus-ring-width solid vars.$focus-ring-color;
  outline-offset: vars.$focus-ring-offset;
}
button:focus-visible,
a:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: vars.$focus-ring-width solid vars.$focus-ring-color;
  outline-offset: vars.$focus-ring-offset;
}
